<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>授業用タイマー</title>
    <style>
        body { margin: 0; background: #222; color: #fff; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; overflow: hidden; }
        #timer { font-size: 30vw; font-weight: bold; font-variant-numeric: tabular-nums; line-height: 1; }
        .controls { margin-top: 20px; }
        button { font-size: 2rem; padding: 10px 20px; cursor: pointer; border: none; border-radius: 10px; background: #444; color: white; margin: 0 10px; }
        button:hover { background: #666; }
        .warning { color: #ffeb3b; }
        .danger { color: #f44336; }
    </style>
</head>
<body>
    <div id="timer">05:00</div>
    <div class="controls">
        <button onclick="addTime(60)">+1分</button>
        <button onclick="toggleTimer()" id="startBtn">スタート</button>
        <button onclick="resetTimer()">リセット</button>
    </div>
    <script>
        let timeLeft = 300;
        let timerId = null;
        function updateDisplay() {
            const min = Math.floor(timeLeft / 60);
            const sec = timeLeft % 60;
            const display = `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
            const timerEl = document.getElementById('timer');
            timerEl.textContent = display;
            timerEl.className = '';
            if (timeLeft <= 0) timerEl.classList.add('danger');
            else if (timeLeft <= 60) timerEl.classList.add('warning');
        }
        function toggleTimer() {
            if (timerId) {
                clearInterval(timerId);
                timerId = null;
                document.getElementById('startBtn').textContent = 'スタート';
            } else {
                timerId = setInterval(() => {
                    if (timeLeft > 0) {
                        timeLeft--;
                        updateDisplay();
                    } else {
                        clearInterval(timerId);
                        alert("時間です！");
                    }
                }, 1000);
                document.getElementById('startBtn').textContent = '一時停止';
            }
        }
        function addTime(seconds) { timeLeft += seconds; updateDisplay(); }
        function resetTimer() { timeLeft = 300; updateDisplay(); }
    </script>
</body>
</html>
